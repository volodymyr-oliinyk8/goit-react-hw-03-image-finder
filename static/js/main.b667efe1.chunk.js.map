{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/api/apiService.js","components/Searchbar/Searcbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","api","featchImage","searchQwery","page","axios","get","then","response","data","hits","Searchbar","state","search","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","reset","className","styles","searchbar","searchForm","this","type","placeholder","onChange","Component","ImageGalleryItem","image","onClickImage","imageGalleryItem","src","webformatURL","alt","tags","imageGalleryItem_image","onClick","largeImageURL","ImageGallery","images","imageGallery","map","id","Button","modal","document","getElementById","Modal","closeModalEsc","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","children","App","currentPage","error","isLoading","nothingMessege","largeImage","showModal","hamdelSearchSubmit","handleMoreImages","prevState","toggleModal","handleImageClick","nodeName","url","dataset","tag","loader","prevProps","apiService","length","handleScroll","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","timeout","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b667efe1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2SKtS\",\"searchForm\":\"Searchbar_searchForm__fBnWx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1pBYs\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__3c6hy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2z2RP\",\"modal\":\"Modal_modal__fsiVJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__34O4c\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '21950838-7a0b45ff646ade2665da57e66';\n\nconst featchImage = (searchQwery, page) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${searchQwery}&page=${page}&per_page=12&key=${API_KEY}&image_type=photo&orientation=horizontal`,\n    )\n    .then(response => response.data.hits);\n};\n\nconst api = {\n  featchImage,\n};\n\nexport default api;\n","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    search: '',\n  };\n  handleChange = e => {\n    this.setState({ search: e.currentTarget.value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.search);\n    this.reset();\n  };\n  reset = () => {\n    this.setState({ search: '' });\n  };\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\">\n            <span>Search</span>\n          </button>\n\n          <input\n            type=\"text\"\n            value={this.state.search}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, onClickImage }) => {\n  const largeImageUrl = () => onClickImage(image.largeImageURL, image.tags);\n  return (\n    <li className={styles.imageGalleryItem}>\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className={styles.imageGalleryItem_image}\n        onClick={largeImageUrl}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    largeImageURL: PropTypes.string.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n  }).isRequired,\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onClickImage }) => (\n  <ul className={styles.imageGallery}>\n    {images.map(image => (\n      <ImageGalleryItem\n        key={image.id}\n        image={image}\n        onClickImage={onClickImage}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import './Button.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <div className=\"Button_container\">\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.css';\n\nconst modal = document.getElementById('modal');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModalEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModalEsc);\n  }\n  closeModalEsc = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.modal}>{this.props.children}</div>\n      </div>,\n      modal,\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport apiService from './components/api/apiService';\nimport './App.css';\n\nimport Searchbar from './components/Searchbar/Searcbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    search: '',\n    images: [],\n    currentPage: 1,\n    error: null,\n    isLoading: false,\n    nothingMessege: false,\n    largeImage: '',\n    showModal: false,\n    tags: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.search !== this.state.search ||\n      prevState.currentPage !== this.state.currentPage\n    ) {\n      this.setState({ isLoading: true });\n\n      apiService\n        .featchImage(this.state.search, this.state.currentPage)\n        .then(images => {\n          if (images.length === 0) {\n            this.setState({ nothingMessege: true });\n          }\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n          }));\n          this.handleScroll();\n        })\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  }\n  hamdelSearchSubmit = search => {\n    this.setState({ search, currentPage: 1, images: [] });\n  };\n  handleMoreImages = () => {\n    this.setState(prevState => ({ currentPage: prevState.currentPage + 1 }));\n  };\n  handleScroll() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n  onClickImage = (largeImage, tags) => {\n    this.setState({\n      largeImage: largeImage,\n      showModal: true,\n      tags: tags,\n    });\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  handleImageClick = ({ target }) => {\n    if (target.nodeName !== 'IMG') {\n      return;\n    }\n    const { url } = target.dataset;\n    const tag = target.alt;\n    this.setState({\n      url,\n      tag,\n      loader: true,\n    });\n    this.toggleModal();\n  };\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.hamdelSearchSubmit} />\n        {this.state.nothingMessege && (\n          <p>\n            Nothing was found for this query... specify the request, please.\n          </p>\n        )}\n        {this.state.error && <p>Ooops... Something went wrong! Try again.</p>}\n        {this.state.images.length > 0 && (\n          <>\n            <ImageGallery\n              images={this.state.images}\n              onClickImage={this.onClickImage}\n            />\n\n            <Button onClick={this.handleMoreImages} />\n          </>\n        )}\n        {this.state.isLoading && (\n          <Loader\n            type=\"Oval\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        )}\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal} onClick={this.handleImageClick}>\n            <img src={this.state.largeImage} alt={this.state.tags} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}